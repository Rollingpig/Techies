_task_common: &task_common
  human_input: false
  async_execution: false

game_hierarchy_representation:
  <<: *task_common
  agent: hierarchy_architect
  description: >
    Assume you are creating a doodle jump game. Your task is to figure out the game hierarchy of the game.
    The first level should be characterized by the object concepts for each visual game component,
    as well as non-visible or ui game components such as the game logic, input handler, start screen, and ui elements.
    You would start from an empty working directory.
    Your working directory will be delivered to hierarchy reviewers.
  expected_output: >
    List of filenames that multiple files that contain the game hierarchy of the game. Do not repeat the content in the files.

hierarchy_review:
  <<: *task_common
  agent: hierarchy_reviewer
  description: >
    Review the game hierarchy of the game.
    Make sure the game hierarchy is complete and the infrastructure is correct.
    Make sure all questions can be answered by the game hierarchy.
    Give feedback on the game hierarchy.

    Make sure there are enough information to answer following questions in the hierarchy:
    1. which component handles the doodle colliding with other entities? which component handles the doodle go across the boarder or fall under the ground?
    2. which component handles the score?
    3. which component takes user inputs and commands the ui or doodle actions? For each input, who will be the target to communicate with?
  expected_output: >
    Your final answer should contain following information:
    1. The quality of the game hierarchy.
    2. The expected answer to the questions.
    3. The refining suggestions.
  depend_on:
    - game_hierarchy_representation

game_hierarchy_refinement:
  <<: *task_common
  agent: hierarchy_architect
  description: >
    Refine the game hierarchy based on feedback from reviewers.
    You should overwrite the existing files in the working directory.
    Your working directory will be delivered to hierarchy assembling team.
  expected_output: >
    The game hierarchy should be refined based on feedback from reviewers.
  depend_on:
    - game_hierarchy_representation
    - hierarchy_review

game_hierarchy_assembling: 
  <<: *task_common
  agent: hierarchy_assembler
  description: >
    Assemble the game hierarchy of the game from the files created by hierarchy engineers.
  expected_output: >
    The json file should contain the game hierarchy of the game.
    The content of a json file, which will be written to game_hierarchy.json.
  output_file: game_hierarchy.json
  depend_on:
    - game_hierarchy_representation
    - game_hierarchy_refinement

# vim: set foldmethod=indent foldlevel=0:
